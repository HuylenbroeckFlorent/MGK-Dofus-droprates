/* ===========================
   Base styles
   =========================== */
body {
  background-color: rgb(39, 37, 37);
  color: white;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  margin: 0;
  padding: 1rem;
  box-sizing: border-box;
}

h1 { margin-top: 0; }

.inline_icon {
  height: 1em;
  width: 1em;
  object-fit: scale-down;
  vertical-align: middle;
}

/* small table cell defaults kept */
th, td {
  padding: 5px;
  text-align: left;
}

/* hover row color */
/* tr:hover { background-color: coral; } */

output { 
    text-align: right; 
    font-family: monospace; 
}

input[type="range"] {
  vertical-align: middle;      /* aligns inline elements to the middle baseline */
  margin: 0;                    /* remove default margins */
  padding: 0;                   /* remove default padding */
}

/* ===========================
   Main grid layout for #calculator
   - left column: server_params / qty table
   - right column: two fieldsets side-by-side in top cell, players table in bottom cell
   =========================== */

#calculator {
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* adjust ratio to taste */
  grid-template-rows: auto auto auto; /* top row (fieldsets), middle (tables), bottom optional area */
  gap: 1.25rem;
  align-items: start;
  /* width: 90vw; */
}

/* top-left: server params fieldset */
#server_params {
  grid-column: 1;
  grid-row: 1;
}

/* top-right wrapper (must be added to HTML) */
#right_fieldsets {
  grid-column: 2;
  grid-row: 1;
  display: grid;
  grid-template-columns: 2fr 1fr; /* two equal columns for the two fieldsets */
  gap: 1rem;
  align-items: stretch; /* make both fieldsets equal height */
}

/* ensure fieldsets inside wrapper fill the cell */
#right_fieldsets fieldset { 
    height: 100%; 
    box-sizing: border-box; 
}

/* tables area spans both columns in second row but we want two tables side-by-side,
   so create a subgrid here by letting the two tables be placed into the two columns */
#qty_data_table {
  grid-column: 1;
  grid-row: 2;
  justify-self: stretch;
  width: 100%;
  box-sizing: border-box;
}

#players_data_table {
  grid-column: 2;
  grid-row: 2;
  justify-self: stretch;
  width: 100%;
  box-sizing: border-box;
}

/* keep fieldsets full height of their top-row cell so their bottoms align */
#server_params,
#right_fieldsets,
#right_fieldsets fieldset {
  height: 100%;
  box-sizing: border-box;
}

/* ===========================
   Fieldset styling (visual)
   =========================== */

fieldset {
  border: 2px solid #666;
  border-radius: 10px;
  padding: 0.6rem 0.9rem;
  background-color: rgb(47, 45, 45);
  margin: 0; /* grid handles spacing */
  display: flex;
  flex-direction: column;
}

legend {
  font-weight: bold;
  /* color: coral; */
  padding: 0 0.25rem;
}

/* internal alignment inside fieldsets */
#server_params label,
#fight_params label {
  display: grid;
  grid-template-columns: 15ch 1fr auto;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

#players_params label {
  display: grid;
  grid-template-columns: 17ch 1fr auto;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

#player_count_input {
    display: grid;
    grid-template-columns: 16ch 1fr; /* match label column width of the input below */
    align-items: center;             /* vertical align title + radios */
    gap: 0.5rem;
    margin-bottom: 0.5rem;    /* optional: wrap if very narrow */
    font-weight: 500;            /* match label font weight */
    line-height: 1.5em;   
    text-align: left;            /* same as other labels */
    margin-right: 0.5ch;         /* spacing to the radio buttons */
    vertical-align: middle;  
}

#player_count_input > span:first-child {
    font-family: inherit;        /* same as label text */
    font-weight: normal;         /* match labels (or 500 if labels use 500) */
    font-size: 1rem;             /* same as other labels */
    line-height: 1.5em;          /* match label spacing */
    text-align: left;
    margin-right: 0.5ch;
    vertical-align: middle;
    display: inline;             /* remove inline-block/flex to match label rendering */
}

#player_count_input .player_count_title {
  flex: 0 0 18ch;         /* fixed width like other label columns */
  font-weight: 500;
}

#player_count_input .player_count_radios {
  display: flex;
  flex-direction: row;
  gap: 0.5ch;
}

#player_count_input .player_count_radios label {
  display: inline-flex;
  align-items: center;
  gap: 0.25ch;
  font-weight: normal;
}

#player_count_input .player_count_radios label span {
    display: inline-block;       /* ensure proper box model */
    vertical-align: middle;      /* aligns with the radio button */
}

/* ===========================
   Table visuals: rounded borders, spacing
   =========================== */

#qty_data_table,
#players_data_table {
  border: 2px solid #666;
  border-radius: 8px;
  border-collapse: separate; /* necessary for rounded corners in some browsers */
  border-spacing: 0;
  overflow: hidden;
  /* background: rgba(0,0,0,0.03); */
}

/* Align "Quantit√©"" to the right in qty_data_table header" */
#qty_data_table_qte,
.q_result_q {
    text-align: end;
}

/* table header and striping */
#qty_data_table thead th,
#players_data_table thead th, 
#qty_data_table td,
#players_data_table td {
  vertical-align: middle;
  padding: 0.3em 0.6em; 
  height: 1.8em; 
}

#qty_data_table tr:nth-child(odd) td {
  background-color: rgb(47, 45, 45);
}

/* keep your column widths */
td.player_icon {
    width: 1ch;
}

td.player_name { 
    width: 17ch; 
}

td.player_pp, 
td.player_level,
td.player_has_casket, 
td.casket_level { 
    width: 25ch; 
}

input[name="casket_individual_level_input"] { 
    width: 10ch; 
}

td.player_result { 
    width: 15ch; 
}

td.casket_level label {
  display: flex;
  align-items: center;  /* vertically center all children */
  gap: 0.5ch;           /* optional spacing between text and input */
}

td.q_result_q {
    width: 5ch;
}

td.q_result_result {
    width: 12ch;
}

/* ===========================
   Make sure tables fill their grid cell (remove visual right-gap)
   =========================== */
#qty_data_table, #players_data_table {
  width: 100%;
  justify-self: stretch;
  box-sizing: border-box;
}

/* ===========================
   Responsive: small screens stack vertically
   =========================== */
@media (max-width: 980px) {
  #calculator {
    grid-template-columns: 1fr;      /* single column layout */
    grid-template-rows: auto auto auto auto;
  }
  #right_fieldsets {
    grid-template-columns: 1fr;      /* stack the two fieldsets vertically */
  }
  #qty_data_table, #players_data_table {
    grid-column: 1;
  }
}
