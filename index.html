<!DOCTYPE html>

<html>
	<head>
		<title>MGK Dofus calculateur de drop</title>
		<link rel="icon" type="image/x-icon" href="/images/pp128.png">
		<link rel="stylesheet" type="text/css" href="style.css">
        <script src="plackett_luce_FSM.js"></script>
        <script defer src="restrict.js"></script>
        <script defer src="scrollable_ranges.js"></script>
        <script defer src="compute_droprate.js"></script>
	</head>
	<body>
        <h1>
            Dofus R&#233;tro - Calculateur de taux de drop
        </h1>
        <div id="calculator">
            <fieldset id="server_params">
                <legend>Donn&#233;es du serveur</legend>
                <label>
                    <span>Taux de base </span> 
                    <input id="base_rate_input" class="minmaxrestricted" type="number" value="5" min="0" max="100"/>
                    <span>%</span>
                </label>
                
                <label>
                    <span>Quantit&#233; max <br></nt><emph>(0 = illimit&#233;)</emph></span>
                    <input id="qmax_input" type="range" value="0" min="0" max="4" oninput="this.nextElementSibling.value = this.value">
                    <output>0</output>
                </label>
            </fieldset>
            <div id="right_fieldsets">
                <fieldset id="players_params">
                    <legend>Donn&#233;es des joueurs</legend>
                    <div id="player_count_input"></div>
                    <div id="player_individual_overrides">
                        <label>
                            <span>Niveau des joueurs </span>
                            <input id="player_level_input" class="minmaxrestricted" type="number" value="200" min="100" max="200">
                        </label>
                        <label>
                            <span>Niveau des coffres </span>
                            <input id="casket_level_input" type="range" value="6" min="1" max="6" oninput="this.nextElementSibling.value = this.value">
                            <output>6</output>
                        </label>
                    </div>
                </fieldset>
                <fieldset id="fight_params">
                    <legend>Donn&#233;es du combat</legend>
                    <label>
                        <span>Challenges </span> 
                        <input id="chall_bonus_input" class="minmaxrestricted" type="number" value="0" min="0" max="999"/>
                        <span>%</span>
                    </label>
                    <label>
                        <span>Tours de boost<br>des coffres</span>
                        <input id="casket_nboost_input" type="range" value="1" min="1" max="5" oninput="this.nextElementSibling.value = this.value">
                        <output>1</output>
                    </label>
                </fieldset>
            </div>
            <div id="qty_precision_wrapper">
                <table id="qty_data_table">
                    <thead>
                        <tr>
                            <th scope="col" id=qty_data_table_qte>Quantit&#233;</th>
                            <th scope="col">Taux global</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                    <template id="qty_data_table_output_template">
                        <tr>
                            <td class="q_result_q"></td>
                            <td class="q_result_result"></td>
                        </tr>
                    </template>
                </table>
                <div id="precision_parameter">
                    <label id="precision_input_label" for="precision_input">Pr&#233;cision</label>
                    <input id="precision_input" type="range" value="2" min="0" max="8" oninput="this.nextElementSibling.value = this.value">
                    <output>2</output> 
                </div>
            </div>
            <table id="players_data_table">
                <thead>
                    <tr>
                        <th scope="col" colspan=2>Personnage</th>
                        <th scope="col">Stat de base</th>
                        <th scope="col">Boost</th>
                        <th scope="col">Taux individuel</th>
                    </tr>
                </thead>
                <template id="player_input_template">
                    <tbody>
                        <tr>
                            <td class="player_icon"><image class="inline_icon" src="images/head_cra.png"></td>
                            <td class="player_name"><!-- player name --></td>
                            <td class="player_pp">
                                <label>
                                    <span>Prospection </span>
                                    <input name="player_pp_input" class="minmaxrestricted" type="number" value="100" min="0" max="999"/>
                                    <img class="inline_icon" src="images/pp128.png"/>
                                </label>
                            </td>
                            <td class="player_has_casket">
                                <label>
                                    <span>Coffre ? </span>
                                    <input name="player_has_casket_input" type="checkbox"/>
                                    <img class="inline_icon" src="images/casket.png"/>
                                </label>
                            </td>
                            <td class="player_result"></td>
                        </tr>
                    </tbody>
                </template>
                <template id="casket_input_template_advanced">
                    <tr>
                        <td><img class="inline_icon" src="images/casket.png"/></td>
                        <td class="casket_name"><!-- casket name --></td>
                        <td class="player_level">
                            <label>
                                <span>Niveau du joueur </span>
                                <input name="player_individual_level_input" class="minmaxrestricted" type="number" value="200" min="100" max="200"/>
                            </label>
                        </td>
                        <td class="casket_level">
                            <label>
                                <span>Niveau du sort </span>
                                <input name="casket_individual_level_input" type="range" value="6" min="1" max="6" oninput="this.nextElementSibling.value = this.value"/>
                                <output>6</output>
                            </label>
                        </td>
                        <td class="player_result"></td>
                    </tr>
                </template>
            </table>
        </div>
	</body>
</html>